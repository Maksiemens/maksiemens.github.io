"use strict";var $orderDiv=$(".order"),$registrationSuccess=$("#registration-success"),$registrationError=$("#registration-error"),$regForm=$("#registration-form");function doValidation(){var o=$(".valid").length;console.log(5===o),5===o&&doAjaxRegForm()}function doAjaxRegForm(){$.ajax("https://mcslayer.com/hillel/ajax.php",{method:"POST",data:$regForm.serializeArray(),beforeSend:function(){$orderDiv.addClass("relative")},success:function(o){$registrationSuccess.fadeIn(function(){setTimeout(function(){$registrationSuccess.fadeOut()},3e3)})},complete:function(){$regForm[0].reset(),$regForm.find(".valid").removeClass("valid"),setTimeout(function(){$orderDiv.removeClass("relative")},4e3)},error:function(o){$registrationError.fadeIn(function(){setTimeout(function(){$registrationError.fadeOut()},3e3)})}})}$regForm.on("submit",function(o){o.preventDefault(),doValidation()});var $handlingDiv=$(".handling"),$handlingSuccess=$("#handling-success"),$handlingError=$("#handling-error"),$handlingForm=$("#handling-form");$handlingForm.on("submit",function(o){o.preventDefault(),$.ajax("https://mcslayer.com/hillel/ajax.php",{method:"POST",data:$handlingForm.serializeArray(),beforeSend:function(){$handlingDiv.addClass("relative")},success:function(o){$handlingSuccess.slideDown(function(){setTimeout(function(){$handlingSuccess.slideUp()},3e3)})},complete:function(){$handlingForm[0].reset(),setTimeout(function(){$handlingDiv.removeClass("relative")},4e3)},error:function(o){$handlingError.slideDown(function(){setTimeout(function(){$handlingError.slideUp()},3e3)})}})});var $calcForm=$("#calculation-form"),$minusButton=$("#minus"),$plusButton=$("#plus"),$resInput=$("#result"),$numBottles=0,$cost=$("#cost"),$PRICE=104,$CURRENCY=" грн";$calcForm.on("click",function(o){var e=$(o.target);e.is($minusButton)&&0<$numBottles&&($resInput.val(--$numBottles),$cost.val($PRICE*$numBottles+$CURRENCY)),e.is($plusButton)&&($resInput.val(++$numBottles),$cost.val($PRICE*$numBottles+$CURRENCY))});var $navSticky=$(".guide"),$window=$(window),$tabWidth=768,$topDistance=200,$goUp=$(".go-up"),$topHeight=500,$html=$("html");function showNav(){$window.width()>=$tabWidth&&$window.scrollTop()>$topDistance?$navSticky.slideDown():$navSticky.slideUp()}function showGoUp(){$window.scrollTop()>$topHeight?$goUp.fadeIn():$goUp.fadeOut()}$goUp.on("click",function(){$html.animate({scrollTop:0},1e3)}),$window.on("scroll",function(){showNav(),showGoUp()});var $humburger=$(".hamburger"),$mobileContent=$(".mobile-content"),$body=$("body");$humburger.on("click",function(){$mobileContent.toggleClass("open"),$mobileContent.toggleClass("mobile-content_overflow"),$body.toggleClass("body_overflow")});var $dropLi=$(".nav__item_drop"),$dropUl=$(".drop");$dropLi.on("click",function(){$(this).find($dropUl).slideToggle(),$(this).toggleClass("nav__item_open")});var $inputTel=$("input[type=tel]");$inputTel.mask("(000) 000 00 00");var $onlyWordsReg=/(^[A-Z]{1}[a-z]{1,14}$)|(^[А-Я]{1}[а-я]{1,14}$)/,$onlyDigitsReg=/^\d+$/,$onlyText=$(".onlyText"),$onlyDigits=$(".onlyDigits");function checkText(o){var e=o.val();$onlyWordsReg.test(e)?(o.addClass("valid"),o.removeClass("invalid")):o.val().length?(o.addClass("invalid"),o.removeClass("valid")):(o.removeClass("valid"),o.removeClass("invalid"))}function checkDigits(o){var e=o.val();$onlyDigitsReg.test(e)?(o.addClass("valid"),o.removeClass("invalid")):o.val().length?(o.addClass("invalid"),o.removeClass("valid")):(o.removeClass("valid"),o.removeClass("invalid"))}function checkTel(o){o.val().length<15?(o.addClass("invalid"),o.removeClass("valid")):(15===o.val().length?o.addClass("valid"):o.removeClass("valid"),o.removeClass("invalid"))}$onlyText.on("keypress",function(o){if(47<o.which&&o.which<58)return!1}),$onlyDigits.on("keypress",function(o){if(console.log(o.which),8!=o.which&&0!=o.which&&(o.which<46||57<o.which))return!1}),$regForm.on("input",function(o){var e=$(o.target);e.is($onlyText)?checkText(e):e.is($onlyDigits)?checkDigits(e):e.is($inputTel)&&checkTel(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyIkb3JkZXJEaXYiLCIkIiwiJHJlZ2lzdHJhdGlvblN1Y2Nlc3MiLCIkcmVnaXN0cmF0aW9uRXJyb3IiLCIkcmVnRm9ybSIsImRvVmFsaWRhdGlvbiIsIiRudW1iZXJWYWxpZEl0ZW1zIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImRvQWpheFJlZ0Zvcm0iLCJhamF4IiwibWV0aG9kIiwiZGF0YSIsInNlcmlhbGl6ZUFycmF5IiwiYmVmb3JlU2VuZCIsImFkZENsYXNzIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiZmFkZUluIiwic2V0VGltZW91dCIsImZhZGVPdXQiLCJjb21wbGV0ZSIsInJlc2V0IiwiZmluZCIsInJlbW92ZUNsYXNzIiwiZXJyb3IiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCIkaGFuZGxpbmdEaXYiLCIkaGFuZGxpbmdTdWNjZXNzIiwiJGhhbmRsaW5nRXJyb3IiLCIkaGFuZGxpbmdGb3JtIiwic2xpZGVEb3duIiwic2xpZGVVcCIsIiRjYWxjRm9ybSIsIiRtaW51c0J1dHRvbiIsIiRwbHVzQnV0dG9uIiwiJHJlc0lucHV0IiwiJG51bUJvdHRsZXMiLCIkY29zdCIsIiRQUklDRSIsIiRDVVJSRU5DWSIsIiR0YXJnZXQiLCJ0YXJnZXQiLCJpcyIsInZhbCIsIiRuYXZTdGlja3kiLCIkd2luZG93Iiwid2luZG93IiwiJHRhYldpZHRoIiwiJHRvcERpc3RhbmNlIiwiJGdvVXAiLCIkdG9wSGVpZ2h0IiwiJGh0bWwiLCJzaG93TmF2Iiwid2lkdGgiLCJzY3JvbGxUb3AiLCJzaG93R29VcCIsImFuaW1hdGUiLCIkaHVtYnVyZ2VyIiwiJG1vYmlsZUNvbnRlbnQiLCIkYm9keSIsInRvZ2dsZUNsYXNzIiwiJGRyb3BMaSIsIiRkcm9wVWwiLCJ0aGlzIiwic2xpZGVUb2dnbGUiLCIkaW5wdXRUZWwiLCJtYXNrIiwiJG9ubHlXb3Jkc1JlZyIsIiRvbmx5RGlnaXRzUmVnIiwiJG9ubHlUZXh0IiwiJG9ubHlEaWdpdHMiLCJjaGVja1RleHQiLCIkdGV4dCIsIiR0ZXh0VmFsdWUiLCJ0ZXN0IiwiY2hlY2tEaWdpdHMiLCIkZGlnaXRzIiwiJGRpZ2l0c1ZhbHVlIiwiY2hlY2tUZWwiLCIkdGVsIiwid2hpY2giXSwibWFwcGluZ3MiOiJBQUFBLGFBR0EsSUFBSUEsVUFBWUMsRUFBRSxVQUNkQyxxQkFBdUJELEVBQUUseUJBQ3pCRSxtQkFBcUJGLEVBQUUsdUJBRXZCRyxTQUFXSCxFQUFFLHNCQWtCakIsU0FBU0ksZUFDUixJQUNJQyxFQURjTCxFQUFFLFVBQ2dCTSxPQUdwQ0MsUUFBUUMsSUFGVSxJQUVMSCxHQUZLLElBSWRBLEdBRUhJLGdCQUtGLFNBQVNBLGdCQUVSVCxFQUFFVSxLQUFLLHVDQUF3QyxDQUM5Q0MsT0FBUSxPQUNSQyxLQUFNVCxTQUFTVSxpQkFFZkMsV0FBWSxXQUNYZixVQUFVZ0IsU0FBUyxhQUdwQkMsUUFBUyxTQUFTQyxHQUNqQmhCLHFCQUFxQmlCLE9BQU8sV0FDM0JDLFdBQVcsV0FDVmxCLHFCQUFxQm1CLFdBQ25CLFFBSUxDLFNBQVUsV0FDVGxCLFNBQVMsR0FBR21CLFFBQ1puQixTQUFTb0IsS0FBSyxVQUFVQyxZQUFZLFNBRXBDTCxXQUFXLFdBQ1ZwQixVQUFVeUIsWUFBWSxhQUNwQixNQUdKQyxNQUFPLFNBQVNSLEdBQ2ZmLG1CQUFtQmdCLE9BQU8sV0FDekJDLFdBQVcsV0FDVmpCLG1CQUFtQmtCLFdBQ2pCLFVBN0RQakIsU0FBU3VCLEdBQUcsU0FBVSxTQUFTQyxHQUM5QkEsRUFBTUMsaUJBRU54QixpQkFpRUQsSUFBSXlCLGFBQWU3QixFQUFFLGFBQ2pCOEIsaUJBQW1COUIsRUFBRSxxQkFDckIrQixlQUFpQi9CLEVBQUUsbUJBQ25CZ0MsY0FBZ0JoQyxFQUFFLGtCQUd0QmdDLGNBQWNOLEdBQUcsU0FBVSxTQUFTQyxHQUNuQ0EsRUFBTUMsaUJBRU41QixFQUFFVSxLQUFLLHVDQUF3QyxDQUM5Q0MsT0FBUSxPQUNSQyxLQUFNb0IsY0FBY25CLGlCQUVwQkMsV0FBWSxXQUNYZSxhQUFhZCxTQUFTLGFBR3ZCQyxRQUFTLFNBQVNDLEdBQ2pCYSxpQkFBaUJHLFVBQVUsV0FDMUJkLFdBQVcsV0FDVlcsaUJBQWlCSSxXQUNmLFFBSUxiLFNBQVUsV0FDVFcsY0FBYyxHQUFHVixRQUVqQkgsV0FBVyxXQUNWVSxhQUFhTCxZQUFZLGFBQ3ZCLE1BR0pDLE1BQU8sU0FBU1IsR0FDZmMsZUFBZUUsVUFBVSxXQUN4QmQsV0FBVyxXQUNWWSxlQUFlRyxXQUNiLFlBVVAsSUFBSUMsVUFBWW5DLEVBQUUscUJBQ2RvQyxhQUFlcEMsRUFBRSxVQUNqQnFDLFlBQWNyQyxFQUFFLFNBQ2hCc0MsVUFBWXRDLEVBQUUsV0FDZHVDLFlBQWMsRUFDZEMsTUFBUXhDLEVBQUUsU0FFVnlDLE9BQVMsSUFDVEMsVUFBWSxPQUVoQlAsVUFBVVQsR0FBRyxRQUFTLFNBQVNDLEdBQzlCLElBQUlnQixFQUFVM0MsRUFBRTJCLEVBQU1pQixRQUVqQkQsRUFBUUUsR0FBR1QsZUFDRSxFQUFkRyxjQUNGRCxVQUFVUSxNQUFNUCxhQUNoQkMsTUFBTU0sSUFBSUwsT0FBU0YsWUFBY0csWUFJOUJDLEVBQVFFLEdBQUdSLGVBQ2ZDLFVBQVVRLE1BQU1QLGFBQ2hCQyxNQUFNTSxJQUFJTCxPQUFTRixZQUFjRyxjQU1uQyxJQUFJSyxXQUFhL0MsRUFBRSxVQUNmZ0QsUUFBVWhELEVBQUVpRCxRQUNaQyxVQUFZLElBQ1pDLGFBQWUsSUFHZkMsTUFBUXBELEVBQUUsVUFDVnFELFdBQWEsSUFDYkMsTUFBU3RELEVBQUUsUUFRZixTQUFTdUQsVUFDSlAsUUFBUVEsU0FBV04sV0FBY0YsUUFBUVMsWUFBY04sYUFDMURKLFdBQVdkLFlBR1hjLFdBQVdiLFVBS2IsU0FBU3dCLFdBQ0hWLFFBQVFTLFlBQWNKLFdBQzFCRCxNQUFNbEMsU0FHTmtDLE1BQU1oQyxVQXJCUmdDLE1BQU0xQixHQUFHLFFBQVMsV0FDakI0QixNQUFNSyxRQUFRLENBQUNGLFVBQVcsR0FBSSxPQXlCL0JULFFBQVF0QixHQUFHLFNBQVUsV0FDcEI2QixVQUNBRyxhQUtELElBQUlFLFdBQWE1RCxFQUFFLGNBQ2Y2RCxlQUFpQjdELEVBQUUsbUJBQ25COEQsTUFBUTlELEVBQUUsUUFFZDRELFdBQVdsQyxHQUFHLFFBQVMsV0FDdEJtQyxlQUFlRSxZQUFZLFFBQzNCRixlQUFlRSxZQUFZLDJCQUMzQkQsTUFBTUMsWUFBWSxtQkFLbkIsSUFBSUMsUUFBVWhFLEVBQUUsbUJBQ1ppRSxRQUFVakUsRUFBRSxTQUVoQmdFLFFBQVF0QyxHQUFHLFFBQVMsV0FDbkIxQixFQUFFa0UsTUFBTTNDLEtBQUswQyxTQUFTRSxjQUN0Qm5FLEVBQUVrRSxNQUFNSCxZQUFZLG9CQUlyQixJQUFJSyxVQUFZcEUsRUFBRSxtQkFDbEJvRSxVQUFVQyxLQUFLLG1CQUtmLElBQUlDLGNBQWdCLGtEQUNoQkMsZUFBaUIsUUFJakJDLFVBQVl4RSxFQUFFLGFBQ2R5RSxZQUFjekUsRUFBRSxlQTBDcEIsU0FBUzBFLFVBQVVDLEdBQ2xCLElBQUlDLEVBQWFELEVBQU03QixNQUVuQndCLGNBQWNPLEtBQUtELElBQ3RCRCxFQUFNNUQsU0FBUyxTQUNmNEQsRUFBTW5ELFlBQVksWUFHVG1ELEVBQU03QixNQUFNeEMsUUFNckJxRSxFQUFNNUQsU0FBUyxXQUNmNEQsRUFBTW5ELFlBQVksV0FObEJtRCxFQUFNbkQsWUFBWSxTQUNsQm1ELEVBQU1uRCxZQUFZLFlBU3BCLFNBQVNzRCxZQUFZQyxHQUNwQixJQUFJQyxFQUFlRCxFQUFRakMsTUFFdkJ5QixlQUFlTSxLQUFNRyxJQUN4QkQsRUFBUWhFLFNBQVMsU0FDakJnRSxFQUFRdkQsWUFBWSxZQUdYdUQsRUFBUWpDLE1BQU14QyxRQU12QnlFLEVBQVFoRSxTQUFTLFdBQ2pCZ0UsRUFBUXZELFlBQVksV0FOcEJ1RCxFQUFRdkQsWUFBWSxTQUNwQnVELEVBQVF2RCxZQUFZLFlBU3RCLFNBQVN5RCxTQUFTQyxHQUNEQSxFQUFLcEMsTUFFUnhDLE9BQVMsSUFDckI0RSxFQUFLbkUsU0FBUyxXQUNkbUUsRUFBSzFELFlBQVksV0FHYSxLQUF0QjBELEVBQUtwQyxNQUFNeEMsT0FDbkI0RSxFQUFLbkUsU0FBUyxTQUtkbUUsRUFBSzFELFlBQVksU0FKakIwRCxFQUFLMUQsWUFBWSxZQXZGbkJnRCxVQUFVOUMsR0FBRyxXQUFZLFNBQVNDLEdBQ2pDLEdBQW9CLEdBQWRBLEVBQU13RCxPQUFtQnhELEVBQU13RCxNQUFYLEdBQ3pCLE9BQU8sSUFLVFYsWUFBWS9DLEdBQUcsV0FBWSxTQUFTQyxHQUluQyxHQUZBcEIsUUFBUUMsSUFBSW1CLEVBQU13RCxPQUVDLEdBQWZ4RCxFQUFNd0QsT0FBNkIsR0FBZnhELEVBQU13RCxRQUFleEQsRUFBTXdELE1BQVEsSUFBb0IsR0FBZHhELEVBQU13RCxPQUN0RSxPQUFPLElBV1RoRixTQUFTdUIsR0FBRyxRQUFTLFNBQVNDLEdBQzdCLElBQUlnQixFQUFVM0MsRUFBRTJCLEVBQU1pQixRQUVsQkQsRUFBUUUsR0FBRzJCLFdBQ2RFLFVBQVcvQixHQUdIQSxFQUFRRSxHQUFHNEIsYUFDbkJLLFlBQWFuQyxHQUdMQSxFQUFRRSxHQUFHdUIsWUFDbkJhLFNBQVN0QyIsImZpbGUiOiJnbG9iYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxyXG4vLydodHRwczovL2ZvbS5pbi51YS9lY2hvJyxcclxuXHJcbnZhciAkb3JkZXJEaXYgPSAkKCcub3JkZXInKTtcclxudmFyICRyZWdpc3RyYXRpb25TdWNjZXNzID0gJCgnI3JlZ2lzdHJhdGlvbi1zdWNjZXNzJyk7XHRcclxudmFyICRyZWdpc3RyYXRpb25FcnJvciA9ICQoJyNyZWdpc3RyYXRpb24tZXJyb3InKTtcdFxyXG5cclxudmFyICRyZWdGb3JtID0gJCgnI3JlZ2lzdHJhdGlvbi1mb3JtJyk7XHJcblxyXG4kcmVnRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oZXZlbnQpIHtcdFxyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGRvVmFsaWRhdGlvbigpO1xyXG5cclxufSk7XHJcblxyXG4vLyAkKCcucmVnaXN0cmF0aW9uX19idXR0b24nKS5oaWRlKCk7XHJcblxyXG4vLyAkcmVnRm9ybS5vbignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcdFxyXG4vLyBcdC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZG9WYWxpZGF0aW9uKCkge1xyXG5cdHZhciAkdmFsaWRJdGVtcyA9ICQoJy52YWxpZCcpO1xyXG5cdHZhciAkbnVtYmVyVmFsaWRJdGVtcyA9ICR2YWxpZEl0ZW1zLmxlbmd0aDtcclxuXHR2YXIgJHRvdGFsVmFsaWQgPSA1O1xyXG5cclxuXHRjb25zb2xlLmxvZyggJG51bWJlclZhbGlkSXRlbXMgPT09ICR0b3RhbFZhbGlkICAgKTtcclxuXHJcblx0aWYoICRudW1iZXJWYWxpZEl0ZW1zID09PSAkdG90YWxWYWxpZCkge1xyXG5cdFx0Ly8gJCgnLnJlZ2lzdHJhdGlvbl9fYnV0dG9uJykuc2xpZGVEb3duKCk7XHJcblx0XHRkb0FqYXhSZWdGb3JtKCk7XHJcblx0XHRcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRvQWpheFJlZ0Zvcm0oKSB7XHJcblxyXG5cdCQuYWpheCgnaHR0cHM6Ly9tY3NsYXllci5jb20vaGlsbGVsL2FqYXgucGhwJywge1xyXG5cdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRkYXRhOiAkcmVnRm9ybS5zZXJpYWxpemVBcnJheSgpLFxyXG5cdFx0XHJcblx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0JG9yZGVyRGl2LmFkZENsYXNzKCdyZWxhdGl2ZScpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHQkcmVnaXN0cmF0aW9uU3VjY2Vzcy5mYWRlSW4oZnVuY3Rpb24oKSB7XHRcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0JHJlZ2lzdHJhdGlvblN1Y2Nlc3MuZmFkZU91dCgpO1xyXG5cdFx0XHRcdH0sIDMwMDApO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkcmVnRm9ybVswXS5yZXNldCgpO1xyXG5cdFx0XHQkcmVnRm9ybS5maW5kKCcudmFsaWQnKS5yZW1vdmVDbGFzcygndmFsaWQnKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JG9yZGVyRGl2LnJlbW92ZUNsYXNzKCdyZWxhdGl2ZScpO1xyXG5cdFx0XHR9LCA0MDAwKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0ZXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRyZWdpc3RyYXRpb25FcnJvci5mYWRlSW4oZnVuY3Rpb24oKSB7XHRcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0JHJlZ2lzdHJhdGlvbkVycm9yLmZhZGVPdXQoKTtcclxuXHRcdFx0XHR9LCAzMDAwKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdH0pO1xyXG59XHJcblxyXG5cclxudmFyICRoYW5kbGluZ0RpdiA9ICQoJy5oYW5kbGluZycpO1xyXG52YXIgJGhhbmRsaW5nU3VjY2VzcyA9ICQoJyNoYW5kbGluZy1zdWNjZXNzJyk7XHRcclxudmFyICRoYW5kbGluZ0Vycm9yID0gJCgnI2hhbmRsaW5nLWVycm9yJyk7XHJcbnZhciAkaGFuZGxpbmdGb3JtID0gJCgnI2hhbmRsaW5nLWZvcm0nKTtcclxuXHJcblxyXG4kaGFuZGxpbmdGb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbihldmVudCkge1xyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHJcblx0JC5hamF4KCdodHRwczovL21jc2xheWVyLmNvbS9oaWxsZWwvYWpheC5waHAnLCB7XHJcblx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdGRhdGE6ICRoYW5kbGluZ0Zvcm0uc2VyaWFsaXplQXJyYXkoKSxcclxuXHRcdFxyXG5cdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdCRoYW5kbGluZ0Rpdi5hZGRDbGFzcygncmVsYXRpdmUnKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0JGhhbmRsaW5nU3VjY2Vzcy5zbGlkZURvd24oZnVuY3Rpb24oKSB7XHRcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0JGhhbmRsaW5nU3VjY2Vzcy5zbGlkZVVwKCk7XHJcblx0XHRcdFx0fSwgMzAwMCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdCRoYW5kbGluZ0Zvcm1bMF0ucmVzZXQoKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JGhhbmRsaW5nRGl2LnJlbW92ZUNsYXNzKCdyZWxhdGl2ZScpO1xyXG5cdFx0XHR9LCA0MDAwKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0ZXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRoYW5kbGluZ0Vycm9yLnNsaWRlRG93bihmdW5jdGlvbigpIHtcdFxyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQkaGFuZGxpbmdFcnJvci5zbGlkZVVwKCk7XHJcblx0XHRcdFx0fSwgMzAwMCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHR9KTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG4vL0NvdW50ZXJzXHJcbnZhciAkY2FsY0Zvcm0gPSAkKCcjY2FsY3VsYXRpb24tZm9ybScpO1xyXG52YXIgJG1pbnVzQnV0dG9uID0gJCgnI21pbnVzJyk7XHJcbnZhciAkcGx1c0J1dHRvbiA9ICQoJyNwbHVzJyk7XHJcbnZhciAkcmVzSW5wdXQgPSAkKCcjcmVzdWx0Jyk7XHJcbnZhciAkbnVtQm90dGxlcyA9IDA7XHJcbnZhciAkY29zdCA9ICQoJyNjb3N0Jyk7XHJcblxyXG52YXIgJFBSSUNFID0gMTA0O1xyXG52YXIgJENVUlJFTkNZID0gJyDQs9GA0L0nO1xyXG5cclxuJGNhbGNGb3JtLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0dmFyICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XHJcblxyXG5cdGlmICggJHRhcmdldC5pcygkbWludXNCdXR0b24pICkge1xyXG5cdFx0aWYoJG51bUJvdHRsZXMgPiAwKSB7XHJcblx0XHRcdCRyZXNJbnB1dC52YWwoLS0kbnVtQm90dGxlcyk7XHJcblx0XHRcdCRjb3N0LnZhbCgkUFJJQ0UgKiAkbnVtQm90dGxlcyArICRDVVJSRU5DWSk7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdGlmICggJHRhcmdldC5pcygkcGx1c0J1dHRvbikgKSB7XHJcblx0XHQkcmVzSW5wdXQudmFsKCsrJG51bUJvdHRsZXMpO1xyXG5cdFx0JGNvc3QudmFsKCRQUklDRSAqICRudW1Cb3R0bGVzICsgJENVUlJFTkNZKTtcclxuXHR9O1xyXG59KTtcclxuXHJcblxyXG4vL0d1aWRlKG5hdiBzdGlja3kpXHJcbnZhciAkbmF2U3RpY2t5ID0gJCgnLmd1aWRlJyk7XHJcbnZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG52YXIgJHRhYldpZHRoID0gNzY4O1xyXG52YXIgJHRvcERpc3RhbmNlID0gMjAwO1xyXG5cclxuLy9CdXR0b24gZ28tdXBcclxudmFyICRnb1VwID0gJCgnLmdvLXVwJyk7XHJcbnZhciAkdG9wSGVpZ2h0ID0gNTAwO1xyXG52YXIgJGh0bWwgPSAgJCgnaHRtbCcpO1xyXG5cclxuJGdvVXAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0JGh0bWwuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSwgMTAwMCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vR3VpZGUobmF2IHN0aWNreSlcclxuZnVuY3Rpb24gc2hvd05hdigpIHtcclxuXHRpZihcdCR3aW5kb3cud2lkdGgoKSA+PSAkdGFiV2lkdGggJiYgKCR3aW5kb3cuc2Nyb2xsVG9wKCkgPiAkdG9wRGlzdGFuY2UpICkge1xyXG5cdFx0JG5hdlN0aWNreS5zbGlkZURvd24oKTtcclxuXHR9XHJcblx0ZWxzZSB7XHJcblx0XHQkbmF2U3RpY2t5LnNsaWRlVXAoKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vYnV0dG9uIGdvLXVwXHJcbmZ1bmN0aW9uIHNob3dHb1VwKCkge1xyXG5cdGlmKFx0KCR3aW5kb3cuc2Nyb2xsVG9wKCkgPiAkdG9wSGVpZ2h0KSApIHtcclxuXHRcdCRnb1VwLmZhZGVJbigpO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdCRnb1VwLmZhZGVPdXQoKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vRXZlbnQgc2Nyb2xsXHJcbiR3aW5kb3cub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xyXG5cdHNob3dOYXYoKTtcclxuXHRzaG93R29VcCgpO1xyXG59KTtcclxuXHJcblxyXG4vL0h1bWJ1cmdlclxyXG52YXIgJGh1bWJ1cmdlciA9ICQoJy5oYW1idXJnZXInKTtcclxudmFyICRtb2JpbGVDb250ZW50ID0gJCgnLm1vYmlsZS1jb250ZW50Jyk7XHJcbnZhciAkYm9keSA9ICQoJ2JvZHknKTtcclxuXHJcbiRodW1idXJnZXIub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0JG1vYmlsZUNvbnRlbnQudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcclxuXHQkbW9iaWxlQ29udGVudC50b2dnbGVDbGFzcygnbW9iaWxlLWNvbnRlbnRfb3ZlcmZsb3cnKTtcclxuXHQkYm9keS50b2dnbGVDbGFzcygnYm9keV9vdmVyZmxvdycpO1xyXG59KTtcclxuXHJcblxyXG4vL0Ryb3AgbWVudVxyXG52YXIgJGRyb3BMaSA9ICQoJy5uYXZfX2l0ZW1fZHJvcCcpO1xyXG52YXIgJGRyb3BVbCA9ICQoJy5kcm9wJyk7XHJcblxyXG4kZHJvcExpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cdCQodGhpcykuZmluZCgkZHJvcFVsKS5zbGlkZVRvZ2dsZSgpO1xyXG5cdCQodGhpcykudG9nZ2xlQ2xhc3MoJ25hdl9faXRlbV9vcGVuJyk7XHJcbn0pO1xyXG5cclxuLy9NYXNrXHJcbnZhciAkaW5wdXRUZWwgPSAkKCdpbnB1dFt0eXBlPXRlbF0nKTtcclxuJGlucHV0VGVsLm1hc2soJygwMDApIDAwMCAwMCAwMCcpO1xyXG5cclxuXHJcbi8vIC8vVmFsaWRhdGlvbiByZWd1bGFyXHJcbi8vIC8vIGh0dHBzOi8vdWlyZWdleC5jb20vcnVcclxudmFyICRvbmx5V29yZHNSZWcgPSAvKF5bQS1aXXsxfVthLXpdezEsMTR9JCl8KF5b0JAt0K9dezF9W9CwLdGPXXsxLDE0fSQpLztcclxudmFyICRvbmx5RGlnaXRzUmVnID0gL15cXGQrJC87XHJcblxyXG5cclxuXHJcbnZhciAkb25seVRleHQgPSAkKCcub25seVRleHQnKTtcclxudmFyICRvbmx5RGlnaXRzID0gJCgnLm9ubHlEaWdpdHMnKTtcclxuXHJcblxyXG4kb25seVRleHQub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRpZiAoIChldmVudC53aGljaCA+IDQ3ICYmIDU4ID4gZXZlbnQud2hpY2gpICkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRcclxufSk7XHJcblxyXG4kb25seURpZ2l0cy5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuXHRjb25zb2xlLmxvZyhldmVudC53aGljaCk7XHJcblxyXG5cdGlmIChldmVudC53aGljaCAhPSA4ICYmIGV2ZW50LndoaWNoICE9IDAgJiYgKGV2ZW50LndoaWNoIDwgNDYgfHwgZXZlbnQud2hpY2ggPiA1NykpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcblxyXG4vLyBpZiAoZXZlbnQud2hpY2ggIT0gOCAmJiBldmVudC53aGljaCAhPSAwICYmIGV2ZW50LndoaWNoICE9IDQ2ICYmIChldmVudC53aGljaCA8IDQ2IHx8IGV2ZW50LndoaWNoID4gNTcpKSB7XHJcbi8vIFx0cmV0dXJuIGZhbHNlO1xyXG4vLyB9XHJcblxyXG5cclxuJHJlZ0Zvcm0ub24oJ2lucHV0JywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHR2YXIgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuXHJcblx0aWYoICR0YXJnZXQuaXMoJG9ubHlUZXh0KSApIHtcclxuXHRcdGNoZWNrVGV4dCggJHRhcmdldCApO1xyXG5cdH1cclxuXHJcblx0ZWxzZSBpZiggJHRhcmdldC5pcygkb25seURpZ2l0cykgKSB7XHJcblx0XHRjaGVja0RpZ2l0cyggJHRhcmdldCApO1xyXG5cdH1cclxuXHJcblx0ZWxzZSBpZiggJHRhcmdldC5pcygkaW5wdXRUZWwpICkge1xyXG5cdFx0Y2hlY2tUZWwoJHRhcmdldCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrVGV4dCgkdGV4dCkge1xyXG5cdHZhciAkdGV4dFZhbHVlID0gJHRleHQudmFsKCk7XHRcclxuXHJcblx0aWYoICRvbmx5V29yZHNSZWcudGVzdCgkdGV4dFZhbHVlKSApIHtcclxuXHRcdCR0ZXh0LmFkZENsYXNzKCd2YWxpZCcpO1xyXG5cdFx0JHRleHQucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKTtcclxuXHR9XHJcblxyXG5cdGVsc2UgaWYoICEkdGV4dC52YWwoKS5sZW5ndGggKSB7XHJcblx0XHQkdGV4dC5yZW1vdmVDbGFzcygndmFsaWQnKTtcclxuXHRcdCR0ZXh0LnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XHJcblx0fVxyXG5cclxuXHRlbHNlIHtcclxuXHRcdCR0ZXh0LmFkZENsYXNzKCdpbnZhbGlkJyk7XHJcblx0XHQkdGV4dC5yZW1vdmVDbGFzcygndmFsaWQnKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrRGlnaXRzKCRkaWdpdHMpIHtcclxuXHR2YXIgJGRpZ2l0c1ZhbHVlID0gJGRpZ2l0cy52YWwoKTtcdFxyXG5cclxuXHRpZiggJG9ubHlEaWdpdHNSZWcudGVzdCggJGRpZ2l0c1ZhbHVlICkgKSB7XHJcblx0XHQkZGlnaXRzLmFkZENsYXNzKCd2YWxpZCcpO1xyXG5cdFx0JGRpZ2l0cy5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xyXG5cdH1cclxuXHJcblx0ZWxzZSBpZiggISRkaWdpdHMudmFsKCkubGVuZ3RoICkge1xyXG5cdFx0JGRpZ2l0cy5yZW1vdmVDbGFzcygndmFsaWQnKTtcclxuXHRcdCRkaWdpdHMucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKTtcclxuXHR9XHJcblxyXG5cdGVsc2Uge1xyXG5cdFx0JGRpZ2l0cy5hZGRDbGFzcygnaW52YWxpZCcpO1xyXG5cdFx0JGRpZ2l0cy5yZW1vdmVDbGFzcygndmFsaWQnKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrVGVsKCR0ZWwpIHtcclxuXHR2YXIgJHRlbFZhbHVlID0gJHRlbC52YWwoKTtcdFxyXG5cclxuXHRpZigkdGVsVmFsdWUubGVuZ3RoIDwgMTUpIHtcclxuXHRcdCR0ZWwuYWRkQ2xhc3MoJ2ludmFsaWQnKTtcclxuXHRcdCR0ZWwucmVtb3ZlQ2xhc3MoJ3ZhbGlkJyk7XHJcblx0fVxyXG5cclxuXHRlbHNlIGlmKCAkdGVsLnZhbCgpLmxlbmd0aCA9PT0gMTUgKSB7XHJcblx0XHQkdGVsLmFkZENsYXNzKCd2YWxpZCcpO1xyXG5cdFx0JHRlbC5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xyXG5cdH1cclxuXHJcblx0ZWxzZSB7XHJcblx0XHQkdGVsLnJlbW92ZUNsYXNzKCd2YWxpZCcpO1xyXG5cdFx0JHRlbC5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xyXG5cdH1cclxufSJdfQ==
